<pre class="line-numbers"><code class="language-java">
<span class="line">    <span class="token operator">==</span><span class="token operator">=</span>Begin Documentation<span class="token operator">==</span><span class="token operator">=</span></span>
<span class="line"><span class="token comment">/** java.net.Inet4Address.getByName</span></span>
<span class="line"><span class="token comment"> * Determines the IP address of a host, given the host's name.</span></span>
<span class="line"><span class="token comment"> *</span></span>
<span class="line"><span class="token comment"> * &lt;p> The host name can either be a machine name, such as</span></span>
<span class="line"><span class="token comment"> * "{@code java.sun.com}", or a textual representation of its</span></span>
<span class="line"><span class="token comment"> * IP address. If a literal IP address is supplied, only the</span></span>
<span class="line"><span class="token comment"> * validity of the address format is checked.</span></span>
<span class="line"><span class="token comment"> *</span></span>
<span class="line"><span class="token comment"> * &lt;p> If the host is {@code null} then an {@code InetAddress}</span></span>
<span class="line"><span class="token comment"> * representing an address of the loopback interface is returned.</span></span>
<span class="line"><span class="token comment"> *</span></span>
<span class="line"><span class="token comment"> * @param      host   the specified host, or {@code null}.</span></span>
<span class="line"><span class="token comment"> * @return     an IP address for the given host name.</span></span>
<span class="line"><span class="token comment"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">static</span> InetAddress <span class="token function">getByName</span><span class="token punctuation">(</span>String host<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/** java.net.DatagramSocket</span></span>
<span class="line"> <span class="token comment">* Constructs a datagram socket and binds it to the specified port</span></span>
<span class="line"><span class="token comment"> * on the local host machine.  The socket will be bound to the</span></span>
<span class="line"><span class="token comment"> * {@link InetAddress#isAnyLocalAddress wildcard} address,</span></span>
<span class="line"><span class="token comment"> * an IP address chosen by the kernel.</span></span>
<span class="line"><span class="token comment"> *</span></span>
<span class="line"><span class="token comment"> * @param      port port to use.</span></span>
<span class="line"><span class="token comment"> * @exception  SocketException  if the socket could not be opened,</span></span>
<span class="line"><span class="token comment"> *               or the socket could not bind to the specified local port.</span></span>
<span class="line"><span class="token comment"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token function">DatagramSocket</span><span class="token punctuation">(</span><span class="token keyword">int</span> port<span class="token punctuation">)</span> <span class="token keyword">throws</span> SocketException</span>
<span class="line"></span>
<span class="line"><span class="token comment">/** java.net.DatagramPacket</span></span>
<span class="line"><span class="token comment"> * Constructs a datagram packet for sending packets of length</span></span>
<span class="line"><span class="token comment"> * {@code length} with offset {@code ioffset}to the</span></span>
<span class="line"><span class="token comment"> * specified port number on the specified host. The</span></span>
<span class="line"><span class="token comment"> * {@code length} argument must be less than or equal to</span></span>
<span class="line"><span class="token comment"> * {@code buf.length}.</span></span>
<span class="line"> <span class="token comment">*</span></span>
<span class="line"><span class="token comment"> * @param   buf      the packet data.</span></span>
<span class="line"> <span class="token comment">* @param   offset   the packet data offset.</span></span>
<span class="line"> <span class="token comment">* @param   length   the packet data length.</span></span>
<span class="line"> <span class="token comment">* @param   address  the destination address.</span></span>
<span class="line"> <span class="token comment">* @param   port     the destination port number.</span></span>
<span class="line"> <span class="token comment">*/</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token function">DatagramPacket</span><span class="token punctuation">(</span><span class="token keyword">byte</span> buf<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">,</span> InetAddress address<span class="token punctuation">,</span> <span class="token keyword">int</span> port<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/**</span></span>
<span class="line"> <span class="token comment">* Sends a datagram packet from this socket. The</span></span>
<span class="line"> <span class="token comment">* {@code DatagramPacket} includes information indicating the</span></span>
<span class="line"> <span class="token comment">* data to be sent, its length, the IP address of the remote host,</span></span>
<span class="line"> <span class="token comment">* and the port number on the remote host.</span></span>
<span class="line"> <span class="token comment">*</span></span>
<span class="line"> <span class="token comment">*</span></span>
<span class="line"> <span class="token comment">* @param      p   the {@code DatagramPacket} to be sent.</span></span>
<span class="line"> <span class="token comment">*</span></span>
<span class="line"> <span class="token comment">* @exception  IOException  if an I/O error occurs.</span></span>
<span class="line"> <span class="token comment">* @exception  SecurityException  if a security manager exists and its</span></span>
<span class="line"> <span class="token comment">*             {@code checkMulticast} or {@code checkConnect}</span></span>
<span class="line"> <span class="token comment">*             method doesn't allow the send.</span></span>
<span class="line"> <span class="token comment">* @exception  PortUnreachableException may be thrown if the socket is connected</span></span>
<span class="line"> <span class="token comment">*             to a currently unreachable destination. Note, there is no</span></span>
<span class="line"> <span class="token comment">*             guarantee that the exception will be thrown.</span></span>
<span class="line"> <span class="token comment">* @exception  java.nio.channels.IllegalBlockingModeException</span></span>
<span class="line"> <span class="token comment">*             if this socket has an associated channel,</span></span>
<span class="line"><span class="token comment"> *             and the channel is in non-blocking mode.</span></span>
<span class="line"> <span class="token comment">* @exception  IllegalArgumentException if the socket is connected,</span></span>
<span class="line"><span class="token comment"> *             and connected address and packet address differ.</span></span>
<span class="line"><span class="token comment"> */</span></span>
<span class="line"> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span>DatagramPacket p<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException</span>
<span class="line"></span>
<span class="line"><span class="token comment">/**</span></span>
<span class="line"><span class="token comment"> * Receives a datagram packet from this socket. When this method</span></span>
<span class="line"><span class="token comment"> * returns, the {@code DatagramPacket}'s buffer is filled with</span></span>
<span class="line"><span class="token comment"> * the data received. The datagram packet also contains the sender's</span></span>
<span class="line"><span class="token comment"> * IP address, and the port number on the sender's machine.</span></span>
<span class="line"><span class="token comment"> * &lt;p></span></span>
<span class="line"><span class="token comment"> *</span></span>
<span class="line"><span class="token comment"> * @param      p   the {@code DatagramPacket} into which to place</span></span>
<span class="line"><span class="token comment"> *                 the incoming data.</span></span>
<span class="line"><span class="token comment"> */</span></span>
<span class="line"> <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span>DatagramPacket p<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException</span>
<span class="line"></span>
<span class="line"> <span class="token comment">/**</span></span>
<span class="line"> <span class="token comment"> * Copies an array from the specified source array, beginning at the</span></span>
<span class="line"><span class="token comment">  * specified position, to the specified position of the destination array.</span></span>
<span class="line"><span class="token comment">  * A subsequence of array components are copied from the source</span></span>
<span class="line"><span class="token comment">  * array referenced by &lt;code>src&lt;/code> to the destination array</span></span>
<span class="line"><span class="token comment">  * referenced by &lt;code>dest&lt;/code>. The number of components copied is</span></span>
<span class="line"><span class="token comment">  * equal to the &lt;code>length&lt;/code> argument. The components at</span></span>
<span class="line"><span class="token comment">  * positions &lt;code>srcPos&lt;/code> through</span></span>
<span class="line"><span class="token comment">  * &lt;code>srcPos+length-1&lt;/code> in the source array are copied into</span></span>
<span class="line"><span class="token comment">  * positions &lt;code>destPos&lt;/code> through</span></span>
<span class="line"><span class="token comment">  * &lt;code>destPos+length-1&lt;/code>, respectively, of the destination</span></span>
<span class="line"><span class="token comment">  * array.</span></span>
<span class="line"><span class="token comment">  *</span></span>
<span class="line"><span class="token comment">  * @param      src      the source array.</span></span>
<span class="line"><span class="token comment">  * @param      srcPos   starting position in the source array.</span></span>
<span class="line"><span class="token comment">  * @param      dest     the destination array.</span></span>
<span class="line"><span class="token comment">  * @param      destPos  starting position in the destination data.</span></span>
<span class="line"><span class="token comment">  * @param      length   the number of array elements to be copied.</span></span>
<span class="line"><span class="token comment">  */</span></span>
<span class="line">  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">arraycopy</span><span class="token punctuation">(</span>Object src<span class="token punctuation">,</span>  <span class="token keyword">int</span>  srcPos<span class="token punctuation">,</span> Object dest<span class="token punctuation">,</span> <span class="token keyword">int</span> destPos<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/**</span></span>
<span class="line"> <span class="token comment">* Reads up to &lt;code>len&lt;/code> bytes of data from the input stream into</span></span>
<span class="line"> <span class="token comment">* an array of bytes.  An attempt is made to read as many as</span></span>
<span class="line"> <span class="token comment">* &lt;code>len&lt;/code> bytes, but a smaller number may be read.</span></span>
<span class="line"> <span class="token comment">* The number of bytes actually read is returned as an integer.</span></span>
<span class="line"> <span class="token comment">*</span></span>
<span class="line"> <span class="token comment">* &lt;p> This method blocks until input data is available, end of file is</span></span>
<span class="line"> <span class="token comment">* detected, or an exception is thrown.</span></span>
<span class="line"> <span class="token comment">*</span></span>
<span class="line"> <span class="token comment">* @param      b     the buffer into which the data is read.</span></span>
<span class="line"> <span class="token comment">* @param      off   the start offset in array &lt;code>b&lt;/code></span></span>
<span class="line"> <span class="token comment">*                   at which the data is written.</span></span>
<span class="line"> <span class="token comment">* @param      len   the maximum number of bytes to read.</span></span>
<span class="line"> <span class="token comment">* @return     the total number of bytes read into the buffer, or</span></span>
<span class="line"> <span class="token comment">*             &lt;code>-1&lt;/code> if there is no more data because the end of</span></span>
<span class="line"> <span class="token comment">*             the stream has been reached.</span></span>
<span class="line"> <span class="token comment">*/</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">byte</span> b<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> off<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException</span>
<span class="line"></span>
<span class="line">    <span class="token operator">==</span><span class="token operator">=</span>End Documentation <span class="token operator">==</span><span class="token operator">=</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/**</span>
<span class="line"> <span class="token comment">* Class that allows to send 247 byte arrays to a client via sockets.</span>
<span class="line"> <span class="token comment">* The sent byte array are verified by calculating a CRC32 checksum.</span>
<span class="line"> <span class="token comment">*/</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatagramMessenger</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> UnknownHostException<span class="token punctuation">,</span> IllegalStateException <span class="token punctuation">{</span></span>
<span class="line">        InetAddress target <span class="token operator">=</span> Inet4Address<span class="token punctuation">.</span><span class="token function">getByName</span><span class="token punctuation">(</span><span class="token string">"localhost"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//Creating a new datagram socket for sending and receiving packets.</span></span>
<span class="line">        DatagramSocket socket <span class="token operator">=</span> null<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            socket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramSocket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            socket<span class="token punctuation">.</span><span class="token function">setPort</span><span class="token punctuation">(</span><span class="token number">8888</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SocketException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">"Programm in invalid state, socket cannot be initialized!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token comment">//Creating a new data package.</span></span>
<span class="line">        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dataPacket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">byte</span><span class="token punctuation">[</span><span class="token number">256</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">int</span> length<span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//Main loop</span></span>
<span class="line">        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">//Preparing the packet to send.</span></span>
<span class="line">            DatagramPacket packet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DatagramPacket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            packet<span class="token punctuation">.</span><span class="token function">setTarget</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            packet<span class="token punctuation">.</span><span class="token function">setPort</span><span class="token punctuation">(</span><span class="token number">8889</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">//Setting all array entries to zero.</span></span>
<span class="line">            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dataPacket<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                dataPacket<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token comment">//Reading 248 byte from the standard input stream.</span></span>
<span class="line">            <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                length <span class="token operator">=</span> System<span class="token punctuation">.</span>in<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>dataPacket<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">248</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">            <span class="token comment">//Calculating CRC32 checksum.</span></span>
<span class="line">            CRC32 checksum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CRC32</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            checksum<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>dataPacket<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">//Copying the checksum to the last 8 positions of the dataPacket array</span></span>
<span class="line">            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> checksumArray <span class="token operator">=</span> <span class="token function">longToBytes</span><span class="token punctuation">(</span>checksum<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            System<span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>checksumArray<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> dataPacket<span class="token punctuation">,</span> <span class="token number">248</span><span class="token punctuation">,</span> checksumArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            packet<span class="token punctuation">.</span><span class="token function">setDataLength</span><span class="token punctuation">(</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            packet<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>dataPacket<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">            <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">                socket<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                socket<span class="token punctuation">.</span><span class="token function">receive</span><span class="token punctuation">(</span>packet<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> <span class="token operator">|</span> SecurityException <span class="token operator">|</span> IllegalArgumentException <span class="token operator">|</span> IllegalBlockingModeException exc<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                System<span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ERROR > Datagram Socket sending error: %s\n"</span><span class="token punctuation">,</span> exc<span class="token punctuation">.</span><span class="token function">getLocalizedMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">break</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"INFO  > Data: \"%s\"\n"</span><span class="token punctuation">,</span> Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>packet<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">//Check if the last 8 byte in the recived package match the checksum for the first 248 byte.</span></span>
<span class="line">            checksum<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>packet<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">248</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>checksum<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">bytesToLong</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>packet<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">248</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ERR   > Checksum invalid!\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        socket<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">/**</span></span>
<span class="line">     <span class="token comment">* Represents a long number (64 bit) as a array of 8 byte.</span></span>
<span class="line">     <span class="token comment">* The content of the long is copied so both values are independent of another after the array is created.</span></span>
<span class="line">     <span class="token comment">*</span></span>
<span class="line">     <span class="token comment">* @param x the long to represent as byte array.</span></span>
<span class="line">     <span class="token comment">* @return the byte array representing the long value. This array has a constant lenght of 8 entries.</span></span>
<span class="line">     <span class="token comment">*/</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">longToBytes</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">long</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span> <span class="token comment">//This function works accordingly and therefore is not shown here</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">/**</span></span>
<span class="line">     <span class="token comment">* Represents a byte array of length 8 as a long value.</span></span>
<span class="line">     <span class="token comment">* The content of the byte array is copied so both values are independent of another after the long is created.</span></span>
<span class="line">     <span class="token comment">*</span></span>
<span class="line">     <span class="token comment">* @param bytes the array to represent as a long. IF the array is longer than 8 elements only the first 8 elements</span></span>
<span class="line">     <span class="token comment">*              are used. We assume the bytes in the array are little endian format.</span></span>
<span class="line">     <span class="token comment">* @return the long representing the byte array.</span></span>
<span class="line">     <span class="token comment">*/</span></span>
<span class="line">     <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">long</span> <span class="token function">bytesToLong</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span> <span class="token comment">//This function works accordingly and therefore is not shown here</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
</pre></code>
